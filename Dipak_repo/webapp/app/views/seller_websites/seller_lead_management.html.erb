<%- @page_title = "My Seller Leads" -%>
<%- content_for :page_scripts do -%>

/*Event.observe(window, 'load', function() {
    
    $('responder_sequence').observe('change', function(){
        responder_sequence = $('responder_sequence').value
        if ( responder_sequence.toString() != ''") {
          new Ajax.Request('/account/profile_inbox?filter_by='+filter_by,
              {
              method:'get',
              onSuccess: function(transport){
              var response = transport.responseText || "no response text";
              $('ajax_update_div').innerHTML = response
              },
              onFailure: function(){ alert('Something went wrong...') },
              onLoading: function(){ $('spinner').style.display = 'block';},
              onComplete: function(){$('spinner').style.display = 'none';}
            });
        }
     });
  });*/

 function go_to_seller_full_page_view(full_page_view_path)
      {
          document.location.href = full_page_view_path
      }
  function filter_by_sequence(sequence_type)
  {
          new Ajax.Request('/seller_websites/seller_lead_management',
            {
            method:'POST',
            parameters: {sequence_type:sequence_type},
            onSuccess: function(transport){
            var response = transport.responseText || "no response text";
            $('ajax_update_div').innerHTML = response
            },
            onFailure: function(){ alert('Something went wrong...') },
            onLoading: function(){ $('spinner').style.display = 'block';},
            onComplete: function(){$('spinner').style.display = 'none';}
          });
    }
  function filter_by_all_sequence(sequence_type)
  {
          new Ajax.Request('/seller_websites/seller_lead_management',
            {
            method:'POST',
            parameters: {sequence_type:sequence_type},
            onSuccess: function(transport){
            var response = transport.responseText || "no response text";
            $('ajax_update_div').innerHTML = response
            },
            onFailure: function(){ alert('Something went wrong...') },
            onLoading: function(){ $('spinner').style.display = 'block';},
            onComplete: function(){$('spinner').style.display = 'none';}
          });
    }
<% end %>
<div class="full">
  <div class="left">Sort by: 
    <select id="sequence_type" name="sequence_type" onchange="filter_by_sequence(this.value);" onkeydown="filter_by_sequence(this.value);" onkeyup="filter_by_sequence(this.value);" >
      <option value="all">All</option>
      <option value="sequence_one">New Lead</option>
      <option value="sequence_two">Trying to Reach</option>
      <option value="sequence_three">Next Steps</option>
      <option value="sequence_four">Not Now</option>
      <option value="do_not_call">Do Not Call</option>
      <option value="no_sequence">No Sequence</option>
    </select>
  </div>
  <fieldset>
 <div style="display:none;margin-left:205px;" class="loading" id="spinner"><span class="text">Loading...</span></div>
  <div id="ajax_update_div">
    <%= render :partial=>"seller_lead_management"%>
  </div>
  </fieldset>
</div>
